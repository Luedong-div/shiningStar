type CardNames = [
	"caoyao",
	"dchuashang_basic",
	"dinvxuanshuang",
	"du",
	"fengyinzhidan",
	"gongqiao_basic",
	"hufu",
	"jiu",
	"sha",
	"shan",
	"shenmiguo",
	"tao",
	"tianxianjiu",
	"xuejibingbao",
	"yunvyuanshen",
	"ziyangdan",
	"binglinchengxiax",
	"caochuan",
	"caochuanjiejian",
	"chadao",
	"chadaox",
	"chenghuodajie",
	"chenhuodajie",
	"chiyuxi",
	"chuansongmen",
	"chuqibuyi",
	"dajunyajing",
	"dashi",
	"dchuashang_trick",
	"diaohulishan",
	"dongzhuxianji",
	"dunpaigedang",
	"dz_mantianguohai",
	"fudichouxin",
	"fugui",
	"geanguanhuo",
	"gongqiao_trick",
	"guaguliaodu",
	"guilai",
	"guisheqi",
	"guohe",
	"haoyun",
	"heilonglinpian",
	"hongyun",
	"huogong",
	"huoshaolianying",
	"jd_guohe",
	"jd_hejie",
	"jd_shuiliao",
	"jd_shunshou",
	"jd_taoyuan",
	"jianhao",
	"jiaoyou",
	"jiedao",
	"jiejia",
	"jihuocard",
	"jinchan",
	"jingleishan",
	"jingxiangshengshi",
	"jinlianzhu",
	"jinnao",
	"juedou",
	"kaihua",
	"kano_paibingbuzhen",
	"khquanjiu",
	"khquanjiux",
	"leigong",
	"liehuo",
	"linghunzhihuo",
	"liufengsan",
	"liuxinghuoyu",
	"luojing",
	"lx_huoshaolianying",
	"lx_huoshaolianying",
	"nanman",
	"nisiwohuo",
	"qijia",
	"qingsuan",
	"qixin",
	"qizhengxiangsheng",
	"shandianjian",
	"shatang",
	"shenbing",
	"shencaojie",
	"shenenshu",
	"shengdong",
	"shengsi",
	"shezhanqunru",
	"shihuifen",
	"shijieshu",
	"shuigong",
	"shuiyanqijunx",
	"shujinsan",
	"shunshou",
	"suijiyingbian",
	"tangying",
	"tanshezhiren",
	"taoyuan",
	"tianlei",
	"tiaojiyanmei",
	"tiesuo",
	"toulianghuanzhu",
	"tuixinzhifu",
	"wangmei",
	"wanjian",
	"wugu",
	"wutian",
	"wuxie",
	"wuzhong",
	"wy_meirenji",
	"wy_xiaolicangdao",
	"xianluhui",
	"xietianzi",
	"xingjiegoutong",
	"yangpijuan",
	"yidugongdu",
	"yidugongdu",
	"yifu",
	"yiguzuoqi",
	"yinglang",
	"yiyi",
	"youfu",
	"younan",
	"yuanjiao",
	"yuansuhuimie",
	"yushijiesui",
	"zengbin",
	"zhaomingdan",
	"zhiliaobo",
	"zhisi",
	"zhufangshenshi",
	"zhujinqiyuan",
	"zhulu_card",
	"zj_lianjunshengyan",
	"bingliang",
	"caomu",
	"fulei",
	"guiyoujie",
	"hongshui",
	"huoshan",
	"lebu",
	"shandian",
	"suibozhuliu",
	"bagua",
	"baihupifeng",
	"baipidao",
	"baipishuangbi",
	"baiyin",
	"bintieshuangji",
	"bol_wuqibingfa",
	"changandajian_equip1",
	"changandajian_equip2",
	"changandajian_equip3",
	"changandajian_equip4",
	"changandajian_equip5",
	"changandajian_equip6",
	"chilongya",
	"chitu",
	"chixueqingfeng",
	"cixiong",
	"cz_liulongcanjia",
	"dagongche_attack",
	"dagongche_defend",
	"daihuofenglun",
	"dawan",
	"dchuashang_equip",
	"dilu",
	"donghuangzhong",
	"duanjian",
	"fangtian",
	"fengxueren",
	"fuxiqin",
	"gjyuheng",
	"gjyuheng_plus",
	"gjyuheng_pro",
	"gongqiao_equip",
	"guangshatianyi",
	"guanshi",
	"guding",
	"guilingzhitao",
	"guilongzhanyuedao",
	"guiyanfadao",
	"guofengyupao",
	"gx_chongyingshenfu",
	"gx_lingbaoxianhu",
	"gx_taijifuchen",
	"hanbing",
	"haotianta",
	"hefei_xianjian",
	"heiguangkai",
	"hongmianbaihuapao",
	"hualiu",
	"huntianyi",
	"huxinjing",
	"jingfanma",
	"jinhe",
	"jueying",
	"kamome_suitcase",
	"kongdongyin",
	"kunlunjingc",
	"langeguaiyi",
	"lanyinjia",
	"lianyaohu",
	"linglongshimandai",
	"liuyedao",
	"ly_piliche",
	"mb_chuanguoyuxi",
	"mb_qingnangshu",
	"meiyingqiang",
	"mengchong",
	"miki_binoculars",
	"miki_hydrogladiator",
	"miniruyi_jingubang",
	"muniu",
	"mutoumianju",
	"numa",
	"nvwashi",
	"nvzhuang",
	"pangufu",
	"pyzhuren_club",
	"pyzhuren_diamond",
	"pyzhuren_heart",
	"pyzhuren_shandian",
	"pyzhuren_spade",
	"qiankundai",
	"qibaodao",
	"qilin",
	"qimenbagua",
	"qinggang",
	"qinglianxindeng",
	"qinglong",
	"qinglonglingzhu",
	"qingmingjian",
	"qixingbaodao",
	"renwang",
	"rewrite_bagua",
	"rewrite_baiyin",
	"rewrite_lanyinjia",
	"rewrite_renwang",
	"rewrite_tengjia",
	"rewrite_zhuge",
	"ruyijingubang",
	"sadengjinhuan",
	"sanjian",
	"sanlve",
	"serafuku",
	"shangfangbaojian",
	"shennongding",
	"shentoumianju",
	"shuchui",
	"shufazijinguan",
	"sifeizhenmian",
	"sizhaojian",
	"sm_mabian",
	"sm_prettyDerby",
	"suolianjia",
	"taigongyinfu",
	"taipingyaoshu",
	"tengjia",
	"tianjitu",
	"tongque",
	"ty_feilongduofeng",
	"wufengjian",
	"wushuangfangtianji",
	"wutiesuolian",
	"wuxinghelingshan",
	"xiayuncailing",
	"xingbian",
	"xinge",
	"xingjunyan",
	"xixueguizhihuan",
	"xuanhuafu",
	"xuanjian",
	"xuanyuanjian",
	"xuwangzhimian",
	"yajiaoqiang",
	"yexingyi",
	"yinfengjia",
	"yinfengyi",
	"yinyueqiang",
	"yitianjian",
	"yonglv",
	"yufulu",
	"yuruyi",
	"zc26_bagua",
	"zc26_lingling",
	"zc26_zhuge",
	"zhangba",
	"zhanxiang",
	"zhaogujing",
	"zheji",
	"zhuahuang",
	"zhuangshu_basic",
	"zhuangshu_equip",
	"zhuangshu_trick",
	"zhuge",
	"zhungangshuo",
	"zhuque",
	"zixin",
	"zj_yexingyi",
	"zongma_attack",
	"zongma_defend",
	"chunbing",
	"gudonggeng",
	"liyutang",
	"luyugeng",
	"mapodoufu",
	"mizhilianou",
	"molicha",
	"qingtuan",
	"tanhuadong",
	"xiajiao",
	"yougeng",
	"yuanbaorou",
	"hslingjian_jinjilengdong",
	"hslingjian_shengxiuhaojiao",
	"hslingjian_shijianhuisu",
	"hslingjian_xingtigaizao",
	"hslingjian_xuanfengzhiren",
	"hslingjian_yinmilichang",
	"hslingjian_zhongxinghujia",
	"bingpotong",
	"feibiao",
	"gouhunluo",
	"jiguanfeng",
	"jiguanshu",
	"jiguantong",
	"jiguanyaoshu",
	"jiguanyuan",
	"lingjiandai",
	"liutouge",
	"longxugou",
	"mianlijinzhen",
	"mujiaren",
	"qiankunbiao",
	"shenhuofeiya",
	"yanjiadan_club",
	"yanjiadan_diamond",
	"yanjiadan_heart",
	"yanjiadan_spade",
	"zhiluxiaohu",
	"baishouzhihu",
	"cangchizhibi",
	"huanglinzhicong",
	"qinglongzhigui",
	"xuanwuzhihuang",
	"yuchandui",
	"yuchangen",
	"yuchankan",
	"yuchankun",
	"yuchanli",
	"yuchanqian",
	"yuchanxun",
	"yuchanzhen",
	"zhuquezhizhang",
	"mtg_bingheyaosai",
	"mtg_cangbaohaiwan",
	"mtg_duzhao",
	"mtg_feixu",
	"mtg_haidao",
	"mtg_lindixiliu",
	"mtg_linzhongjianta",
	"mtg_longlushanfeng",
	"mtg_shamolvzhou",
	"mtg_shuimomuxue",
	"mtg_yixialan",
	"mtg_youlin",
	"gw_aerdeyin",
	"gw_ansha",
	"gw_aozuzhilei",
	"gw_baishuang",
	"gw_baobaoshu",
	"gw_baoxueyaoshui",
	"gw_birinongwu",
	"gw_butianshu",
	"gw_chongci",
	"gw_ciguhanshuang",
	"gw_fuyuan",
	"gw_ganhan",
	"gw_guaiwuchaoxue",
	"gw_huangjiashenpan",
	"gw_hudiewu",
	"gw_kunenfayin",
	"gw_leizhoushu",
	"gw_niuquzhijing",
	"gw_nuhaifengbao",
	"gw_poxiao",
	"gw_qinpendayu",
	"gw_shanbengshu",
	"gw_shizizhaohuan",
	"gw_tongdi",
	"gw_tunshi",
	"gw_wenyi",
	"gw_xinsheng",
	"gw_yanziyaoshui",
	"gw_yigeniyin",
	"gw_youer",
	"gw_zhihuanjun",
	"gw_zhongmozhizhan",
	"gw_zhuoshao",
	"gw_zirankuizeng",
	"gw_zuihouyuanwang",
	"gw_zumoshoukao",
	"zf_badaoshu",
	"zf_badaoshu2",
	"zf_banyun",
	"zf_boming",
	"zf_bowen",
	"zf_bowen2",
	"zf_bowen3",
	"zf_buzhen",
	"zf_buzhen2",
	"zf_buzhen3",
	"zf_cangtaohu",
	"zf_caochuanjiejian",
	"zf_cedingtianxia",
	"zf_cedingtianxia2",
	"zf_chenqibubei",
	"zf_chenqibubei2",
	"zf_chijiuzhan",
	"zf_chijiuzhan3",
	"zf_chijiuzhan4",
	"zf_cuixue",
	"zf_cuixue2",
	"zf_dangtouyibang",
	"zf_dangtouyibang2",
	"zf_danliangboduo",
	"zf_duanliangcao2",
	"zf_duoduoyishan",
	"zf_duoduoyishan2",
	"zf_duoduoyishan3",
	"zf_dushu",
	"zf_dushu2",
	"zf_erlianji",
	"zf_ershengsan",
	"zf_fanci",
	"zf_fengshounian",
	"zf_fenjin",
	"zf_fuyiquchai",
	"zf_fuyiquhuo",
	"zf_fuyiqujue",
	"zf_fuyiqusha",
	"zf_fuyiqushan",
	"zf_fuyiqushun",
	"zf_fuyiqusuo",
	"zf_fuyiqutao",
	"zf_geshandaniu",
	"zf_guandaozhiji",
	"zf_guangongren",
	"zf_hanzhan",
	"zf_haoshenfa",
	"zf_hengfeng",
	"zf_hengfeng2",
	"zf_hengjiangsuo",
	"zf_houfaxianzhi",
	"zf_houshi",
	"zf_houshi2",
	"zf_hugujiu",
	"zf_hugujiu2",
	"zf_hujia",
	"zf_hujia2",
	"zf_jiemeng",
	"zf_jingjijia",
	"zf_jingyumoulve",
	"zf_jingyumoulve2",
	"zf_jinnangji",
	"zf_jishiyu",
	"zf_jiyi",
	"zf_jiyi2",
	"zf_jueduiwuxie",
	"zf_kuangbao",
	"zf_kuangbao2",
	"zf_kuangbao3",
	"zf_kuangbao4",
	"zf_laoguzhuangbei",
	"zf_leihuoshi",
	"zf_leihuoshi2",
	"zf_leiming",
	"zf_liebian",
	"zf_liebian2",
	"zf_liebian3",
	"zf_miaoji",
	"zf_miaoji2",
	"zf_miaoshoukongkong",
	"zf_mopai",
	"zf_mopai2",
	"zf_muniuliuma",
	"zf_pianzhuanjia",
	"zf_pinang",
	"zf_pinang2",
	"zf_pinang3",
	"zf_pofuchenzhou",
	"zf_qiangquhaoduo",
	"zf_qiaoquhaoduo",
	"zf_ruofankui",
	"zf_ruoxi",
	"zf_sanbanfu",
	"zf_sanbanfu2",
	"zf_sanlianji",
	"zf_shenlongbaiwei",
	"zf_shenlongbaiwei2",
	"zf_shiqiboduo",
	"zf_shixue",
	"zf_shoudaoqinlai",
	"zf_shoudaoqinlai2",
	"zf_shoudaoqinlai3",
	"zf_shuanglve",
	"zf_shuangren",
	"zf_shuangren2",
	"zf_tianjianghengcai",
	"zf_tianjiangjinnang",
	"zf_tianjiangkapai",
	"zf_tianjiangzhuangbei",
	"zf_tiebushan",
	"zf_tiebushan2",
	"zf_tiebushan3",
	"zf_tijiashu",
	"zf_tipo",
	"zf_tipo2",
	"zf_tipo3",
	"zf_touxi",
	"zf_wendingchengzai",
	"zf_wendinghouqin",
	"zf_wendingjingong",
	"zf_wendingshiqi",
	"zf_wendingtizhi",
	"zf_woxinchangdan",
	"zf_xialuxiangfeng",
	"zf_xicongtianjiang",
	"zf_xicongtianjiang2",
	"zf_xinshounianlai",
	"zf_xuezhan",
	"zf_xuezhan2",
	"zf_xuezhan3",
	"zf_xulijian",
	"zf_xushi",
	"zf_xuyan",
	"zf_yanxian",
	"zf_yaoli",
	"zf_yaoli2",
	"zf_yaoli3",
	"zf_yaoli4",
	"zf_yingjifangan",
	"zf_yingjizhanlve",
	"zf_yingjizhanshu",
	"zf_yinyangshufa",
	"zf_yongzhan",
	"zf_yongzhan2",
	"zf_yuanjiji",
	"zf_yuanmou",
	"zf_yuanmou2",
	"zf_yuanmou3",
	"zf_yuanzhu",
	"zf_yuanzhu2",
	"zf_yuanzhu3",
	"zf_yuzhanyuyong",
	"zf_yuzhanyuyong2",
	"zf_yuzhanyuyong3",
	"zf_zengshou",
	"zf_zengshou2",
	"zf_zhandouxuexi",
	"zf_zhandouxuexi2",
	"zf_zhandouxuexi3",
	"zf_zhongjiji",
	"zf_zhudao",
	"zf_zhudao2",
	"zf_zuiquan",
];
/**
 * 暂时收集的卡牌名字列表
 */
type CardName = CardNames[number];
/**
 * 卡牌花色
 */
type Suit = "heart" | "diamond" | "club" | "spade" | null;
/**
 * 卡牌点数
 */
type CardNumber = "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9" | "10" | "11" | "12" | "13" | null;
/**
 * 卡牌属性
 */
type Nature = "fire" | "thunder" | "ice" | "stab" | "poison" | "kami" | null;
/**
 * 卡牌数组
 */
type CardTuple = [CardName, Suit, CardNumber, Nature, Record<string, any>?];
/**
 * 卡牌对象
 */
type CardObject = {
	/**
	 * 卡牌名称
	 */
	name: CardName;
	/**
	 * 卡牌花色
	 */
	suit?: Suit;
	/**
	 * 卡牌点数
	 */
	number?: CardNumber;
	/**
	 * 卡牌属性
	 */
	nature?: Nature;
	/**
	 * 卡牌的其他自定义数据
	 */
	storage?: Record<string, any>;
	[key: string]: any;
};
/**
 * 单张卡牌
 */
type Card = CardTuple | CardObject;

/**
 * 卡槽集合：每项为若干张卡片
 */
type CardZones = {
	/**
	 * 手牌区，每张卡牌为 Card 类型
	 */
	h: Card[];
	/**
	 * 装备区，每张卡牌为 Card 类型
	 */
	e: Card[];
	/**
	 * 判定牌区，每张卡牌为 Card 类型
	 */
	j: Card[];
	/**
	 * 技能牌区（需要额外扩展），每张卡牌为 Card 类型
	 */
	k: Card[];
};

type ExpandProps = {
	/**
	 * 开局额外摸牌数
	 */
	extraDraw: number | null;
	/**
	 * 初始生命值
	 */
	hp: number | null;
	/**
	 * 初始最大生命值
	 */
	maxHp: number | null;
	/**
	 * 初始护甲值
	 */
	hujia: number | null;
	[key: string]: any;
};

export interface Minion {
	/**
	 * 座位布局 dataset，从 0 开始
	 * 注意：座位号和布局是不一样的，座位号从 1 开始，且为首个出牌角色，布局是 dataset 里的顺序
	 */
	seat: number;
	/**
	 * 角色 id
	 */
	name: string;
	/**
	 * 卡槽集合
	 */
	cards: CardZones;
	/**
	 * 额外属性扩展
	 */
	expand?: ExpandProps;
	/**
	 * 额外技能列表
	 */
	skills: string[];
}

export interface UnitInfo {
	/**
	 * 初始化卡槽集合
	 */
	cards: CardZones;
	/**
	 * 额外技能列表
	 */
	skills: string[];
	/**
	 * 额外属性扩展
	 */
	expand: ExpandProps;
	/**
	 * 随从/小怪列表
	 */
	minions: Minion[];
}

export interface ItemProb {
	/**
	 * 道具名称
	 */
	name: string;
	/**
	 * 掉落概率或返回该概率的函数
	 */
	possibility: number | (() => number);
}

export interface LevelGlobal {
	/**
	 * 首个出手角色的 dataset 索引（从 0 开始），默认为 4
	 */
	loopFirst?: number;
	/**
	 * 循环方法
	 * 1：普通循环（默认）
	 * 2：交替循环（仅boss交替）
	 */
	loopType?: number;
	/**
	 * 随从重整轮次
	 */
	chongzheng?: number;
	/**
	 * 修改默认摸牌数量
	 * @param {Player} player
	 * @returns
	 */
	gameDraw?: (player: any) => number;
	/**
	 * 初始化函数
	 * @returns
	 */
	init?: () => void;
	/**
	 * 完美通关检查
	 * @returns
	 */
	checkPerfect?: (this: any) => boolean;
	[key: string]: any;
}

export interface LevelDesignEntry {
	/**
	 * 对话/剧情结构说明：对象
	 */
	convo?: ConvoEntry | string[][] | (() => string[][]);
	/**
	 * boss 信息
	 */
	bossInfo?: UnitInfo;
	/**
	 * 玩家信息
	 */
	meInfo?: UnitInfo;
	/**
	 * 道具掉落
	 */
	items?: ItemProb[];
	/**
	 * 规则
	 */
	global?: LevelGlobal;
	[key: string]: any;
}

export interface BossType {
	/**
	 * 从关卡 key 到 boss id 的映射（例如 shiningStars_level1 -> wu_zhugeliang）
	 * 自动生成
	 */
	bossMap: Record<string, string>;
	/**
	 * 关卡设计数据
	 */
	levelDesign: Record<string, LevelDesignEntry>;
}

export type ConvoEntry = {
	/**
	 * 开始前对白，函数或二维字符串数组
	 * 每项为一个字符串数组（例如 ["说话者id", "台词"] 无 id 则为旁白）
	 */
	playConvoBefore?: string[][] | (() => string[][]);
	/**
	 * 结束后对白，函数或二维字符串数组
	 * 每项为一个字符串数组（例如 ["说话者id", "台词"] 无 id 则为旁白）
	 */
	playConvoAfter?: string[][] | (() => string[][]);
	[key: string]: unknown;
};

declare const boss: BossType;
export default boss;
