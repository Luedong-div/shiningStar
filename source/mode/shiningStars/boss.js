import { lib, game, ui, get, _status } from "../../../../../noname.js";

const boss = {
	shiningStarsBossList: ["shiningStars_level1", "sunquan", "liubei", "dongzhuo", "lvbu", "zhaoyun", "sunjian", "sunce"],
	bossMap: {
		shiningStars_level1: "wu_zhugeliang",
	},
	levelDesign: {
		shiningStars_level1: {
			checkPerfect() {
				return game.countPlayer(i => i.name == "shiningStars_meteorite") == 2;
			},
			convo: {
				playConvoBefore: [
					["中军大帐，残灯如豆，案上《出师表》墨迹已干，诸葛亮身着鹤氅，倚坐榻上，气息微弱，手中羽扇轻垂；你立于帐前，衣袂沾尘，神色肃然"],
					["wu_zhugeliang", "夜露沾衣，星子沉于天幕之渊，先生感知到的，是寒意在骨，还是另一种“终结”的温热？"],
					["诸葛亮缓缓睁眼，目光浑浊却仍有微光"],
					["wu_zhugeliang", "客从何来？此间皆是军务，非论道之所。"],
					["shiningStar_starChild", "道藏于军务，亦藏于一呼一吸的间隙。先生以半生驱驰追赶一轮“兴汉”的日头，可曾想过，那日头本就有东升西落的定数，追赶的意义，是追上的瞬间，还是追赶本身织就的轨迹？"],
					["wu_zhugeliang", "汉之倾颓，如屋之将倾，吾身为梁柱，岂能坐视？追赶与否，非关定数，关乎本心。"],
					["shiningStar_starChild", "本心是锚，可风浪滔天之时，锚亦会随船身颠簸。先生谓“鞠躬尽瘁，死而后已”，这“已”的边界，是生命的终结，还是意志的消散？若身后之事难如所愿，这“瘁”的价值，又该向谁求证？"],
					["wu_zhugeliang", "吾尽吾力，不问归途。如农夫耕于田，不因秋霜将至而辍耕；如匠人筑于墙，不因岁月侵蚀而停凿。价值自在耕耘之间，非待他人求证。"],
					["shiningStar_starChild", "农夫耕田，为求五谷；匠人筑墙，为避风雨。先生耕耘的，是他人的江山，筑就的，是异世的功名。这“他人”与“异世”，于先生自身而言，是照亮前路的炬火，还是遮蔽本真的迷雾？"],
					["wu_zhugeliang", "吾本南阳布衣，苟全性命于乱世，不求闻达于诸侯。先帝三顾之恩，如光入寒渊，照亮的岂止是仕途，更是乱世中“忠义”二字的重量。吾之耕耘，非为功名，为报知遇，为守一诺。"],
					["shiningStar_starChild", "一诺千金，可千金难买岁月流转。先生以一诺系半生，将自我熔铸于“忠义”二字之中，那被熔铸的“自我”，是找到了归宿，还是沦为了祭品？就如烛火，以燃烧照亮他人，燃尽之时，除了灰烬，还剩什么？"],
					["wu_zhugeliang", "烛火燃尽，虽留灰烬，却曾照亮帐内寸土，温暖过寒夜之人。自我之存，不在于形骸完整，而在于所行之事，所守之诺，能否在世间留下些许痕迹。如星辰虽远，其光仍可照临千古。"],
					["shiningStar_starChild", "星辰之光，抵达人间之时，早已是千年前的余温。先生所求的“痕迹”，是被铭记的荣光，还是对“初心未改”的自我印证？若千百年后，无人再记“诸葛孔明”之名，先生今日之劳，便成了无意义的奔波吗？"],
					["wu_zhugeliang", "意义自在当下，不在千古之后。吾行吾道，初心未改，便足矣。就如草木春生夏长，秋枯冬藏，从不问来年是否有人欣赏……"],
					["话音渐弱，诸葛亮手中的地图滑落于榻边，呼吸趋于平缓。烛火一跳，险些熄灭，又顽强地燃了起来。"],
				],
				playConvoAfter() {
					if (boss.levelDesign.shiningStars_level1.checkPerfect()) {
						return [
							["五丈原军帐，烛火摇曳更甚。诸葛亮卧于榻上，战后虚弱感浸透肌理，胸口微微起伏，案几上平放着刚由亲兵呈上的八阵图，布帛纹路间还沾着些许尘土与血痕。你仍立榻前，目光掠过阵图，又落回诸葛亮苍白的面庞"],
							["shiningStar_starChild", "八阵推演，星罗棋布，先生以残躯布下这盘活局之阵，挡了敌军锋芒，也接住了一场“胜”的果实。这阵图是破局的钥匙，还是又一场“追赶”的新起点？"],
							["wu_zhugeliang", "此阵……非为新起点，为护三军退路，为续汉祚一线生机。胜败乃兵家常事，这“胜”，是将士用命换来的喘息，非吾一人之功。"],
							[
								"shiningStar_starChild",
								"喘息之后，仍是征途。阵图能挡千军，却挡不住岁月催逼，挡不住人心离散。先生以智谋织就这张“守护”之网，网住的是三军安危，还是将自己更深地缚于“兴汉”的枷锁之中？这八阵图，是先生意志的延伸，还是自我的又一层裹挟？",
							],
							["wu_zhugeliang", "枷锁也好，延伸也罢，此阵生于军务，用于护民，便有其存在之理。吾身虽弱，尚能以智谋为盾，护得麾下将士周全，这便够了。如匠人铸盾，非为炫技，为护持所用之人，盾成之日，便是价值彰显之时。"],
							["shiningStar_starChild", "匠人铸盾，盾护之人可知匠人之劳？先生织阵，三军可知这阵图背后，是先生耗损心神的透支？护持他人的意义，若需以自身精血为代价，这份“护持”，是主动的担当，还是被动的偿还？"],
							[
								"wu_zhugeliang",
								"先帝托孤之时，曾言“君才十倍曹丕，必能安国，终定大事”。这份托付，是信任，亦是重任。吾之护持，非偿还，乃践行承诺。将士追随，为兴汉而来，吾岂能让他们寒心？如烛火护持帐内微光，不因油尽将至而黯淡，这份护持的意义，自在彼此的相守之中。",
							],
							["shiningStar_starChild", "相守皆是阶段性的聚合，终有离散之日。这八阵图纵能护得一时退路，却护不了汉祚的最终走向。当离散来临，承诺践行过半，那份未竟的执念，会成为先生最后的牵绊，还是让“自我”得以喘息的缺口？"],
							["wu_zhugeliang", "执念生于心，亦能死于心。吾已尽吾智，布下此阵，余下之事，自有天意，自有后人。如星辰布于天幕，不因人间是否仰望而改变轨迹，吾之行止，亦不因结局未卜而动摇。这阵图……便留予后人，是指引，亦是交代。"],
							["shiningStar_starChild", "交代于人，亦是交代于己。愿这阵图的纹路，能让先生在最后的时光里，寻得片刻安宁。"],
							["烛火稳定燃烧，映照着案几上的八阵图，也映照着榻上沉沉喘息的诸葛亮，帐外星光依旧，与帐内烛火遥相呼应。"],
						];
					}
					return [
						["shiningStar_starChild", "硝烟散尽，胜负已分。先生以残躯撑过这场战事，感受到的，是劫后余生的庆幸，还是未竟大业的沉重？"],
						["wu_zhugeliang", "无甚庆幸，亦无过多沉重。战则尽吾力，败则受其果，兵家常态而已。只是……折损了诸多将士，心中有愧。"],
						[
							"shiningStar_starChild",
							"先生常以“尽吾力”为圭臬，可“力”有穷尽之时。这场战事，先生已倾尽残力，却仍未扭转乾坤，这份“穷尽”，是对“初心”的辜负，还是对“人力有穷”的清醒认知？就如舟楫渡海，终有触礁之时，触礁的遗憾，该归咎于舟楫，还是海的辽阔无垠？",
						],
						[
							"wu_zhugeliang",
							"归咎于己，归咎于时。非初心之负，实乃时运不济，国力有限。吾如渡河之楫，虽未能抵达彼岸，却已载着将士们闯过了数重风浪，这份“载渡”的价值，便不算辜负。至于触礁之憾，是人力无法挣脱的桎梏，坦然受之即可。",
						],
						[
							"shiningStar_starChild",
							"坦然受之，可心中之愧难平。先生之愧，源于将士折损，还是源于未能向先帝交付一个圆满的结局？这份“交付”的执念，让先生在“自我”与“使命”之间，始终偏向后者，可当使命难以圆满，那被忽视的“自我”，是否会发出无声的诘问？",
						],
						[
							"wu_zhugeliang",
							"先帝知遇之恩，重于泰山。吾之使命，便是为兴汉铺路，铺路之人，岂能惧荆棘，惧坎坷？将士折损，是吾调度之责；结局未圆满，是吾能力之限。这份诘问，早已在无数个寒夜中响起，吾之回应，唯有继续前行。如耕夫遇旱，不因禾苗枯萎而弃田，仍需引水灌溉，尽最后之力。",
						],
						["shiningStar_starChild", "引水灌溉，亦需自身有力。先生如今残躯难支，连呼吸都需竭力，这份“最后之力”，是源于对使命的坚守，还是源于对“失败”的恐惧？若就此停歇，承认“人力有穷”，是否才算真正的“自我救赎”？"],
						[
							"wu_zhugeliang",
							"停歇便是退缩，便是对先帝之诺的背弃，对将士之血的漠视。吾之坚持，非惧失败，惧的是“放弃”二字。如烛火将尽，仍要燃尽最后一丝光亮，照亮帐内寸土，让将士们知晓，尚有前行之路可走。至于自我救赎……吾之救赎，便在这“不放弃”的坚持之中。",
						],
						["shiningStar_starChild", "坚持是火，可火燃尽之时，便只剩灰烬。先生以坚持为救赎，却不知救赎的真谛，或许是接纳不完美，而非苛求圆满。愿这最后一程，先生能少些牵绊，多些从容。"],
						["烛火一跳，险些熄灭，又勉强燃了起来。诸葛亮缓缓闭上眼，似是在积蓄力气，又似是在回味这番对话，帐内只剩他沉重的喘息声，与帐外的风声交织在一起。"],
					];
				},
			},
			bossInfo: {
				cards: {
					h: [],
					e: [["rewrite_bagua", "spade", 1]],
					j: [],
					k: [],
				},
				skills: [],
				expand: {
					extraDraw: null,
					hp: null,
					maxHp: null,
					hujia: null,
				},
				minions: [],
			},
			meInfo: {
				cards: {
					h: [],
					e: [],
					j: [],
					k: [],
				},
				skills: [],
				expand: {
					extraDraw: null,
					hp: null,
					maxHp: null,
					hujia: null,
				},
				minions: [
					{
						seat: 1,
						name: "shiningStars_meteorite",
						cards: {
							h: [],
							e: [],
							j: [],
							k: [],
						},
						expand: {
							extraDraw: null,
							hp: null,
							maxHp: null,
							hujia: null,
						},
						skills: [],
					},
					{
						seat: 7,
						name: "shiningStars_meteorite",
						cards: {
							h: [],
							e: [],
							j: [],
							k: [],
						},
						skills: [],
						expand: {
							extraDraw: null,
							hp: null,
							maxHp: null,
							hujia: null,
						},
					},
				],
			},
			items: [
				{
					name: "shiningStars_stoneSentinelMaze",
					possibility: 0.5,
				},
			],
			global: {
				loopType: 1,
				chongzheng: 6,
				gameDraw(player) {
					return player == game.boss ? 8 : 4;
				},
				// 其他待添加的属性
				// checkResult(player) {},
				// loopFirst() {
				// 	return game.boss.previousSeat;
				// },
				// init() {
				// 	_status.taoni_over = get.copy(game.over);
				// },
			},
		},
	},
};

export default boss;
