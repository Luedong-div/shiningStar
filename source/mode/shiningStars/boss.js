import { lib, game, ui, get, _status } from "../../../../../noname.js";

const boss = {
	shiningStarsBossList: ["shiningStars_level1", "shiningStars_level2", "liubei", "dongzhuo", "lvbu", "zhaoyun", "sunjian", "sunce"],
	bossMap: {
		shiningStars_level1: "wu_zhugeliang",
	},
	levelDesign: {
		// 第一关：五丈原夜话
		shiningStars_level1: {
			checkPerfect() {
				return game.countPlayer(i => i.name == "shiningStars_meteorite") == 2;
			},
			convo: {
				playConvoBefore: [
					["混沌中睁眼，星河倒悬于天幕。你抬手拂过眼前虚浮的星屑，耳畔传来一声悠长的叹息——那叹息里，藏着祁山的雪、五丈原的风，还有未竟的火。"],
					["shiningStars_level1", "星轨轮转，千年一瞬。你踏碎光阴而来，追寻的是“千古一相”的虚名，还是那团燃尽半生也不肯熄灭的执念？循着这声叹息走下去吧，他在等你。"],
					[
						"中军大帐，帐帘被夜风掀起一角，灌入的寒气让烛火剧烈摇晃。案上摊着摊开的《出师表》，墨迹淋漓处，似有泪光洇染。诸葛亮身着素色鹤氅，斜倚在榻边，指尖还捏着一枚未写完的竹简，唇边凝着一丝咳血的殷红。你立于帐口，靴底碾过帐外飘入的细雪，发出细碎的声响。",
					],
					["shiningStar_starChild", "夜雪封山，三军静默。先生可知，帐外的雪，已经下了三天三夜了？这雪，是在为未竟的大业垂泪，还是在为你这燃尽的烛火，添最后一把寒？"],
					["诸葛亮缓缓抬眼，浑浊的眸子里，竟骤然亮起一点星芒。那光芒穿透了病痛的阴霾，像极了当年隆中对策时，指点江山的模样。"],
					["wu_zhugeliang", "客非此间人。帐内寒酸，无酒无茶，只有一盏残灯，一卷残篇，恐怠慢了远客。"],
					["shiningStar_starChild", "灯虽残，尚能照见丹心；篇虽残，犹可书尽忠义。先生半生驱驰，六出祁山，九伐中原，追的是“兴复汉室”的日月，可这日月，真的能被凡人的肩膀扛起吗？"],
					["wu_zhugeliang", "汉祚倾颓，如大厦将倾。吾非擎天之柱，只是一捧补天的泥石。明知不可为而为之，非逞强，乃因身后有先帝之托，帐前有三军之望。这“追”，不是追日月，是追一颗本心。"],
					["shiningStar_starChild", "本心？先生的本心，是南阳耕读时的“苟全性命于乱世”，还是白帝城托孤时的“鞠躬尽瘁，死而后已”？当初心被裹上“相父”的枷锁，被压上“兴汉”的重担，那原本的自己，还剩下几分？"],
					[
						"wu_zhugeliang",
						"（轻笑一声，咳了几声，指尖的竹简跌落在案上）耕读之乐，是乱世中求一份安稳；托孤之重，是绝境中守一份承诺。本心从不是一成不变的。就如种子破土，生而为芽，长而为木，终而为梁——不是枷锁缚了它，是它自己，甘愿长成遮风挡雨的模样。",
					],
					["shiningStar_starChild", "可梁木承重过甚，终会开裂。先生的身体，早已是一根被风雪侵蚀的朽木。你护得住汉室的一线生机，护得住三军将士的性命，可曾护过自己？你燃尽自己，照亮的是他人的江山，最后只留一抔灰烬，值得吗？"],
					["wu_zhugeliang", "（抬手抚过案上的《出师表》，指尖颤抖）值与不值，岂在身后评说？当年先帝三顾茅庐，风雪满庐，他不问我“值不值”，只问我“愿不愿”。吾愿矣。便如烛火，燃则燃矣，何必问照亮了谁，又留下了什么？"],
					[
						"shiningStar_starChild",
						"烛火燃尽，唯余灰烬；先生逝后，只留青史几行。千百年后，世人记得你的空城计，记得你的木牛流马，可谁会记得，你也曾是南阳的一介布衣，也曾想过“采菊东篱下”的悠然？你把自己活成了“诸葛孔明”的符号，却弄丢了那个叫“诸葛亮”的人，这难道不是一种遗憾？",
					],
					[
						"wu_zhugeliang",
						"（眸中星芒渐暗，却带着一丝释然）符号也好，布衣也罢，皆是吾身。青史留名，非吾所求；但求百年之后，有人记得，曾有一人，为了一诺，为了万民，燃尽了最后一寸光阴。这便够了。（声音渐低）就像……就像今夜的雪，落在地上，会化去，可它曾洁白过这片土地……",
					],
					["话音未落，他捏着竹简的手无力垂下，烛火猛地一跳，险些熄灭。帐外的风雪，似乎更紧了。"],
				],
				playConvoAfter() {
					if (boss.levelDesign.shiningStars_level1.checkPerfect()) {
						return [
							[
								"帐内的烛火，在一阵剧烈的摇晃后，竟奇迹般地稳定下来。案上多了一卷用素帛裹着的八阵图，帛布上的丝线，是用他亲手染的墨线织就，纹路间，似有千军万马在奔腾。诸葛亮微微抬眼，目光落在八阵图上，唇边漾起一抹浅淡的笑意。",
							],
							["shiningStar_starChild", "这八阵图，是先生毕生智谋所聚。你用它挡过陆逊的十万大军，如今又将它留在此处——是想为后人留下破局的钥匙，还是想为自己这未竟的征途，画一个最后的句号？"],
							[
								"wu_zhugeliang",
								"（声音微弱，却字字清晰）此阵……非钥，非句号。是给三军将士的一道盾，是给汉室的一线生机。胜败乃兵家常事，这阵图能护他们一程，却护不了一世。（抬手，指向帐外的星空）真正的破局之法，从不在阵图里，在人心，在万民。",
							],
							[
								"shiningStar_starChild",
								"人心易变，万民易散。先生用一生去赌“人心向汉”，可赌到最后，不过是秋风五丈原的憾。这阵图织得再精密，也织不回逝去的光阴，织不圆那个“兴复汉室”的梦。它于你而言，到底是最后的坚守，还是最后的执念？",
							],
							[
								"wu_zhugeliang",
								"（缓缓摇头）执念若能护得苍生安宁，那便执下去又何妨？吾这一生，从未后悔过。（目光望向帐外，似是看到了祁山的春，看到了成都的月）先帝曾说，“汉贼不两立，王业不偏安”。吾虽未能亲眼见汉室中兴，却已尽吾所能。这八阵图……便留给后人吧。若有一日，世间再无战乱，它便成了一卷无用的帛书——那才是吾真正想要的结局啊。",
							],
							[
								"shiningStar_starChild",
								"若真有那一日，后人翻开这卷帛书，或许只会惊叹于先生的智谋，却忘了你笔下“亲贤臣，远小人”的肺腑之言，忘了你“夙夜忧叹，恐托付不效”的煎熬。他们会把你当成神，却忘了你也曾是个会痛、会累、会流泪的凡人。",
							],
							[
								"wu_zhugeliang",
								"（笑了，咳了一口血，却笑得坦荡）成神也好，成凡也罢，都无所谓了。（指尖轻轻拂过八阵图的纹路）只要这世间还有人记得“忠义”二字，记得“鞠躬尽瘁”的重量，吾便不算白来这一遭。（闭上眼，声音轻得像一缕烟）夜雪……该停了。",
							],
							["帐外的风雪，竟真的渐渐小了。烛火映着八阵图，映着榻上安然阖目的诸葛亮，映着帐内无声伫立的你。星河在天幕缓缓流转，一颗星辰，正缓缓坠落，却在坠落的瞬间，迸发出照亮千古的光芒。"],
						];
					}
					return [
						["烛火终于撑不住了，发出一声微弱的噼啪声，旋即黯淡下去。帐内陷入一片昏沉，唯有窗外的雪光，映亮了诸葛亮苍白的面庞。他微微睁眼，看向你的方向，眸子里没有了星芒，只剩一片平静的疲惫。"],
						["shiningStar_starChild", "硝烟散尽，胜负已定。这场仗，你输了。输了祁山的风，输了五丈原的雪，输了那未竟的兴汉梦。先生半生追光，最后却被黑暗吞噬，这份“尽吾力”，到底是不甘，还是认命？"],
						[
							"wu_zhugeliang",
							"（声音沙哑，却平静）非输，非赢。只是……人力有穷时。（抬手，想去够案上的《出师表》，却终究无力）吾尽吾心，吾尽吾力，纵未能如愿，亦无悔矣。（咳了几声，目光望向帐外）只是可惜……可惜那些追随吾的将士，可惜先帝的嘱托……",
						],
						[
							"shiningStar_starChild",
							"可惜？先生的可惜，是为汉室的倾覆，还是为自己这未写完的人生？你把一生都绑在了“兴汉”的战车上，从未为自己活过一天。当战车倾覆，你坠入深渊，可曾有过一丝一毫的怨？怨先帝的托付太重，怨天命的不公，怨自己的执着太傻？",
						],
						[
							"wu_zhugeliang",
							"（缓缓摇头，唇边泛起一丝苦涩的笑意）怨？怨有何用？乱世之中，人命如草芥。吾能做的，便是用自己这根草芥，去护住更多的草芥。（目光渐渐涣散）先帝知我，三军信我，这便够了。（声音轻得几乎听不见）这雪……落了这么久，也该暖了……",
						],
						[
							"他的手彻底垂落，帐内的烛火，终于彻底熄灭。帐外的雪，还在无声地落着，落在他未写完的竹简上，落在那卷墨迹未干的《出师表》上，落在五丈原的每一寸土地上。你立于帐中，听着帐外的风雪声，忽然明白——有些光，纵然燃尽了，也会永远留在人间。",
						],
					];
				},
			},
			bossInfo: {
				cards: {
					h: [],
					e: [],
					j: [],
					k: [],
				},
				skills: ["shiningStars_stoneSentinelMaze"],
				expand: {
					extraDraw: null,
					hp: null,
					maxHp: null,
					hujia: null,
				},
				minions: [],
			},
			meInfo: {
				cards: {
					h: [],
					e: [],
					j: [],
					k: [],
				},
				skills: [],
				expand: {
					extraDraw: null,
					hp: null,
					maxHp: null,
					hujia: null,
				},
				minions: [
					{
						seat: 1,
						name: "shiningStars_meteorite",
						cards: {
							h: [],
							e: [],
							j: [],
							k: [],
						},
						expand: {
							extraDraw: null,
							hp: null,
							maxHp: null,
							hujia: null,
						},
						skills: [],
					},
					{
						seat: 7,
						name: "shiningStars_meteorite",
						cards: {
							h: [],
							e: [],
							j: [],
							k: [],
						},
						skills: [],
						expand: {
							extraDraw: null,
							hp: null,
							maxHp: null,
							hujia: null,
						},
					},
				],
			},
			items: [
				{
					name: "shiningStars_stoneSentinelMaze",
					possibility: 0.5,
				},
			],
			global: {
				loopType: 1,
				chongzheng: 6,
				gameDraw(player) {
					return player == game.boss ? 8 : 4;
				},
				// 其他待添加的属性
				// checkResult(player) {},
				// loopFirst() {
				// 	return game.boss.previousSeat;
				// },
				// init() {
				// 	_status.taoni_over = get.copy(game.over);
				// },
			},
		},
	},
};

export default boss;
